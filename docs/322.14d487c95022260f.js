"use strict";(self.webpackChunkpoc_gpt=self.webpackChunkpoc_gpt||[]).push([[322],{2322:(S,d,e)=>{e.r(d),e.d(d,{LoginModule:()=>L});var p=e(6895),c=e(3321),t=e(4650),u=e(5657),g=e(95);let h=(()=>{class o{constructor(n){this.cookieService=n}getToken(){return this.cookieService.get("aromToken")||(console.warn("No token in cookies !\nAdd a cookie {aromToken: THE_TOKEN}"),"")}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(u.N))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var m=e(529);let f=(()=>{class o{constructor(n,r){this.tokenService=n,this.httpClient=r}doCall(){const n=this.tokenService.getToken();return this.httpClient.get("https://tdm-api.hp.gda.edf.fr/ipnn_kmu_rfp/v1/api/sites",{headers:{Authorization:`Bearer ${n}`}})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(h),t.LFG(m.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var v=e(4144),k=e(7676),a=e(4006);const C=[{path:"",component:(()=>{class o{constructor(n,r,l,s){this.cookieService=n,this.router=r,this.keyService=l,this.dipnnService=s,this.value=""}ngOnInit(){console.log("on INIT"),this.dipnnService.doCall().subscribe(n=>console.log({resp:n}))}onSubmit(){this.cookieService.set("key-encryption-pass",this.value),this.keyService.init(),this.router.navigate(["/chat/talk"])}onInput(n){"Enter"==n.key&&this.onSubmit()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u.N),t.Y36(c.F0),t.Y36(g.B),t.Y36(f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:3,vars:1,consts:[[1,"password-form"],[1,"chat-input-field"],["matInput","","type","text","placeholder","Mot de passe ?",3,"ngModel","ngModelChange","keydown"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"input",2),t.NdJ("ngModelChange",function(s){return r.value=s})("keydown",function(s){return r.onInput(s)}),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngModel",r.value))},dependencies:[v.Nt,k.KE,a.Fj,a.JJ,a.On],styles:["[_nghost-%COMP%]{display:block;background-color:#d7d0c9;background-image:url(background.0e2e4ccb6f8f5a46.png);min-width:100vw;min-height:100vh}[_nghost-%COMP%]   .password-form[_ngcontent-%COMP%]{position:absolute;top:40%;margin:auto;width:100%}[_nghost-%COMP%]   .password-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:auto;display:block;width:50%}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper{background:rgb(245,245,245)}"]}),o})(),children:[]},{path:"**",redirectTo:""}];let y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(C),c.Bz]}),o})();var M=e(7436);let L=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,y,M.m]}),o})()}}]);